{"version":3,"file":"index.js","sources":["../src/js/paw-hut-api-animals.js","../src/js/paw-hut-api-categories.js","../src/js/render-functions.js","../src/js/swiper-about-us.js","../src/js/pets-list.js"],"sourcesContent":["import axios from 'axios';\n\nconst url = 'https://paw-hut.b.goit.study/api/animals';\nconst options = {\n  method: 'GET',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    'X-Custom-Header': 'custom value',\n    mode: 'no-cors',\n  },\n};\n  \nexport async function getAnimalsByQuery(categoryId, page, limit) {\n  try {\n    const requestURL = `${url}/?categoryId=${categoryId}&page=${page}&limit=${limit}`;\n    const response = await axios(`${requestURL}`, options);\n\n    if (!response.data) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n//!================================================\n\nexport async function getAnimals(page = 1, limit = 8) {\n  const baseURL = 'https://paw-hut.b.goit.study/';\n  const endPoint = 'api/animals';\n  const url = `${baseURL}${endPoint}?page=${page}&limit=${limit}`;\n\n  const res = await axios.get(url);\n  return res.data;\n}\n","// paw-hut-api-categories.js\nimport axios from 'axios';\n\nconst url = 'https://paw-hut.b.goit.study/api/categories';\nconst options = {\n  method: 'GET',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    'X-Custom-Header': 'custom value',\n    mode: 'no-cors',\n  },\n};\n\nexport async function getCategories() {\n  try {\n    const response = await axios(url, options);\n\n    if (!response.data) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n","// render-function.js\nimport '/css/animations.css';\n\nconst refs = {\n  gallery: document.querySelector('.js-gallery'),\n  loadMoreButton: document.querySelector('.js-loadmore-btn'),\n  loader: document.querySelector('.js-loader'),\n};\n\nexport function createGallery(images) {\n  const markup = images\n    .map(({}) => {\n      return `<li class=\"gallery-item\">\n                  // тут HTML розмітка однієї картки\n                </li>`;\n    })\n    .join('');\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  refs.gallery.classList.remove('is-shown');\n  refs.loader.classList.add('is-shown');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.remove('is-shown');\n  refs.gallery.classList.add('is-shown');\n}\n\nexport function showLoadMoreButton() {\n  refs.loadMoreButton.classList.add('is-shown');\n}\n\nexport function hideLoadMoreButton() {\n  refs.loadMoreButton.classList.remove('is-shown');\n}\n\n//!================================================\n\nexport function createTemplateCategory(category) {\n  return `\n    <li class=\"pet-category-item\">\n      <button class=\"pet-category-btn\" data-category=\"${category._id}\">\n        ${category.name}\n      </button>\n    </li>\n  `;\n}\n\nexport function createTemplateCategories(categories) {\n  const allBtn = `\n    <li class=\"pet-category-item \">\n      <button class=\"pet-category-btn\" data-category=\"all\">\n        Всі\n      </button>\n    </li>\n  `;\n\n  return allBtn + categories.map(createTemplateCategory).join('');\n}\n\nexport function createTemplatePet(pet) {\n  const categoriesMarkup = pet.categories\n    .map(cat => `<li class=\"pet-card__group\">${cat.name}</li>`)\n    .join('');\n\n  return `\n  <li class=\"pet-card\">\n    <div class=\"pet-card__container\">\n        <img class=\"pet-card__image\" src=\"${pet.image}\" alt=\"${pet.name}\" loading=\"lazy\"/>\n      \n        <p class=\"pet-card__species\">${pet.species}</p>\n\n        <h2 class=\"pet-card__name\">${pet.name}</h2>\n\n        <ul class=\"pet-card__groups\">\n          ${categoriesMarkup}\n        </ul>\n      \n        <p class=\"pet-card__meta\">\n          <span class=\"pet-card__meta-item\">${pet.age}</span>\n          <span class=\"pet-card__meta-item\">${pet.gender}</span>\n        </p>\n    \n        <p class=\"pet-card__description\">\n          ${pet.shortDescription}\n        </p>\n      \n        <button class=\"pet-card__button js-more-info\" data-id=\"${pet._id}\">\n          Дізнатись більше\n        </button>\n    </div>\n  </li>\n  `;\n}\n\nexport function createTemplatePets(pets) {\n  return pets.map(createTemplatePet).join('');\n}\n//!================================================\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport '../css/about-us.css';\n\nconst SwiperContainer =\n  document.querySelector('.about-us-slider .mySwiper') || document.querySelector('.mySwiper');\nif (SwiperContainer) {\n  new Swiper(SwiperContainer, {\n    modules: [Navigation, Pagination, Keyboard],\n    slidesPerView: 1,\n    spaceBetween: 30,\n    keyboard: {\n      enabled: true,\n    },\n    pagination: {\n      el: '.about-us-slider .swiper-pagination',\n      clickable: true,\n    },\n    navigation: {\n      nextEl: '.about-us-slider .swiper-button-next',\n      prevEl: '.about-us-slider .swiper-button-prev',\n    },\n  });\n}\n","import { getAnimals, getAnimalsByQuery } from './paw-hut-api-animals';\nimport { getCategories } from './paw-hut-api-categories';\nimport {\n  createTemplateCategories,\n  createTemplatePets,\n} from './render-functions';\n\n//!================================================\nconst refs = {\n  showMoreBtn: document.querySelector('.js-pet-show-more-btn'),\n  petList: document.querySelector('.js-pet-list'),\n  petCategories: document.querySelector('.js-pet-categories'),\n  showDetailsBtn: document.querySelector('.js-more-info'),\n};\n\nrefs.showMoreBtn.disabled = true;\n\nfunction getPerPage() {\n  return window.innerWidth >= 1440 ? 9 : 8;\n}\n\nlet page = 1;\nlet perPage = getPerPage();\nlet query = 'all';\n//!================================================\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const response = await getCategories();\n  perPage = getPerPage();\n  const markup = createTemplateCategories(response.sort().reverse());\n  refs.petCategories.innerHTML = markup;\n\n  const allBtn = refs.petCategories.querySelector('[data-category=\"all\"]');\n  allBtn.closest('.pet-category-item').classList.add('is-active');\n});\n\ndocument.addEventListener('DOMContentLoaded', async e => {\n  const response = await getAnimals(page, perPage);\n  const markup = createTemplatePets(response.animals);\n  refs.petList.innerHTML = markup;\n  refs.showMoreBtn.disabled = response.animals.length < perPage;\n});\n\nrefs.petCategories.addEventListener('click', async e => {\n  if (e.target.nodeName !== 'BUTTON') return;\n\n  refs.petCategories\n    .querySelectorAll('.pet-category-item')\n    .forEach(item => item.classList.remove('is-active'));\n\n  e.target.closest('.pet-category-item').classList.add('is-active');\n\n  query = e.target.dataset.category;\n  page = 1;\n  perPage = getPerPage();\n\n  refs.showMoreBtn.disabled = false;\n\n  let response;\n\n  if (query === 'all') {\n    response = await getAnimals(page, perPage);\n  } else {\n    response = await getAnimalsByQuery(query, page, perPage);\n  }\n\n  refs.petList.innerHTML = createTemplatePets(response.animals);\n\n  refs.showMoreBtn.disabled = response.animals.length < perPage;\n});\n\n//!================================================\n\nrefs.showMoreBtn.addEventListener('click', async () => {\n  page += 1;\n  perPage = getPerPage();\n\n  let response;\n\n  if (query === 'all') {\n    response = await getAnimals(page, perPage);\n  } else {\n    response = await getAnimalsByQuery(query, page, perPage);\n  }\n\n  refs.petList.insertAdjacentHTML(\n    'beforeend',\n    createTemplatePets(response.animals)\n  );\n\n  if (response.animals.length < perPage) {\n    refs.showMoreBtn.disabled = true;\n  }\n\n  scrollPage();\n});\n//!================================================\nfunction scrollPage() {\n  const elem = document.querySelector('.js-pet-list > *');\n  if (!elem) return;\n\n  const rect = elem.getBoundingClientRect();\n  const heightOfElem = rect.height * 2;\n\n  window.scrollBy({\n    top: heightOfElem,\n    behavior: 'smooth',\n  });\n}\n\n//!================================================\n"],"names":["url","options","getAnimalsByQuery","categoryId","page","limit","requestURL","response","axios","error","getAnimals","getCategories","createTemplateCategory","category","createTemplateCategories","categories","createTemplatePet","pet","categoriesMarkup","cat","createTemplatePets","pets","SwiperContainer","Swiper","Navigation","Pagination","Keyboard","refs","getPerPage","perPage","query","markup","item","scrollPage","elem","heightOfElem"],"mappings":"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"}